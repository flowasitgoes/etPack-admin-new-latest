# 工廠ERP系統功能說明文檔

## 專案概述

這是一個專為工廠設計的企業資源規劃(ERP)系統原型專案，以設計方提供的設計圖為基礎進行開發。系統採用現代化的Web技術架構，提供了完整的生產管理、訂單處理、供應商管理等核心功能。

**專案性質**: 原型專案 (Prototype Project)
**開發時間**: 近半年開發成果
**技術架構**: Next.js 15 + React 19 + TypeScript + Tailwind CSS

## 系統架構

### 前端技術棧
- **框架**: Next.js 15.2.4 (App Router)
- **UI框架**: React 19
- **語言**: TypeScript 5
- **樣式**: Tailwind CSS 3.4.17
- **UI組件**: shadcn/ui + Radix UI
- **狀態管理**: React Context API + Hooks
- **主題**: next-themes (支持亮色/暗色模式)

### 核心功能模組

## 1. 用戶認證系統

### 功能特性
- **登入驗證**: 支持多用戶角色登入
- **權限管理**: 基於角色的訪問控制
- **會話管理**: JWT Token 驗證機制
- **安全保護**: 前端路由守衛 (AuthGuard)
- **用戶信息**: 顯示用戶名稱、角色、部門信息

### 技術實現
- 認證上下文 (AuthContext)
- 路由保護組件
- 自動登出功能

---

## 2. 訂單管理模組 (Orders Management)

### 核心功能
- **訂單列表**: 顯示所有生產訂單
- **訂單詳情**: 查看訂單完整信息
- **訂單狀態**: 追蹤訂單處理狀態
- **訂單過濾**: 按狀態、日期等條件篩選
- **訂單搜索**: 快速查找特定訂單

### 數據結構
```typescript
interface Order {
  id: string
  orderNumber: string
  customerName: string
  productName: string
  quantity: number
  deliveryDate: string
  status: 'pending' | 'processing' | 'completed'
  notes?: string
}
```

---

## 3. 生產排程系統 (Production Schedule)

### 功能特性
- **排程管理**: 生產任務排程安排
- **機台分配**: 自動/手動分配生產機台
- **時間管理**: 生產時間預估和追蹤
- **優先級設定**: 訂單優先級管理
- **排程優化**: 基於生產能力的排程優化

### 技術實現
- 即時日期時間顯示
- 拖拽排序功能 (@dnd-kit)
- 響應式排程界面

---

## 4. 供應商管理系統 (Vendor Management)

### 核心功能
- **供應商列表**: 供應商信息展示
- **供應商詳情**: 完整供應商信息查看
- **供應商評價**: 供應商績效評估
- **聯絡信息**: 供應商聯絡方式管理
- **訂單歷史**: 與供應商的交易記錄

### 數據結構
```typescript
interface Vendor {
  id: string
  name: string
  contact: string
  email: string
  phone: string
  address: string
  rating: number
  status: 'active' | 'inactive'
}
```

---

## 5. 產品資訊管理 (Product Information)

### 功能特性
- **產品目錄**: 產品編號和名稱管理
- **產品分類**: 產品類別和變體管理
- **歷史訂單**: 產品的歷史銷售記錄
- **產品搜索**: 快速產品查找功能
- **排序功能**: 按名稱或編號排序

### 數據結構
```typescript
interface Product {
  id: string
  name: string
  variants: string[]
  description?: string
  category?: string
  createdAt: string
  updatedAt: string
}
```

---

## 6. 配方資料庫系統 (Formula Database)

### 核心功能
- **配方管理**: 產品配方信息存儲
- **配方搜索**: 配方名稱和編號搜索
- **歷史記錄**: 配方使用的歷史訂單
- **配方版本**: 配方版本控制
- **配方分類**: 配方類別管理

### 數據結構
```typescript
interface Formula {
  id: string
  name: string
  variants: string[]
  description?: string
  createdAt: string
  updatedAt: string
}
```

---

## 7. 員工資料庫系統 (Employee Database)

### 功能特性
- **員工信息**: 員工基本信息管理
- **部門管理**: 員工部門和職稱管理
- **員工搜索**: 按姓名、部門搜索員工
- **員工狀態**: 員工在職狀態管理
- **聯絡信息**: 員工聯絡方式管理

### 技術實現
- 員工詳情表單組件
- 員工列表展示組件
- 員工搜索和篩選功能

---

## 8. 生產部門管理系統

### 8.1 包裝課 (Bagging Department)

#### 功能模組
- **生產排程**: 包裝生產任務排程
- **訂單記錄**: 包裝訂單處理記錄
- **材料記錄**: 包裝材料領料記錄
- **每日報告**: 生產和檢驗日報表
- **配方資料庫**: 包裝專用配方管理

#### 設計特點
- 紫色系配色方案
- 獨立頁面架構 (`/bagging`)
- 模組化設計，易於擴展

### 8.2 切割課 (Cutting Department)

#### 功能模組
- **生產排程**: 切割生產任務安排
- **訂單管理**: 切割訂單處理
- **材料管理**: 切割材料使用記錄
- **品質控制**: 切割品質檢驗
- **生產報告**: 每日生產報告

### 8.3 層壓課 (Laminating Department)

#### 功能模組
- **生產排程**: 層壓生產排程管理
- **訂單處理**: 層壓訂單執行
- **材料追蹤**: 層壓材料消耗記錄
- **品質管控**: 層壓品質標準檢查
- **生產統計**: 層壓生產數據統計

### 8.4 印刷課 (Printing Department)

#### 功能模組
- **生產排程**: 印刷任務排程
- **訂單管理**: 印刷訂單處理
- **油墨管理**: 印刷油墨使用記錄
- **品質控制**: 印刷品質檢驗
- **生產監控**: 印刷機台運行監控

### 8.5 裁切課 (Slitting Department)

#### 功能模組
- **生產排程**: 裁切生產排程
- **訂單執行**: 裁切訂單處理
- **材料管理**: 裁切材料使用記錄
- **尺寸控制**: 裁切尺寸精確控制
- **生產報告**: 裁切生產數據報告

---

## 9. API 測試系統

### 功能特性
- **API 端點測試**: 遠端API連接測試
- **服務狀態監控**: Render服務運行狀態檢查
- **用戶註冊測試**: 用戶註冊API測試
- **網路狀態檢查**: API響應時間監控
- **錯誤處理**: 詳細的錯誤信息顯示

### 測試端點
- **服務地址**: https://tuco.onrender.com/
- **主要API**: `/register` (用戶註冊)
- **狀態檢查**: `/api/proxy/status`

### 技術實現
- 異步API請求處理
- 即時狀態更新
- 詳細的響應數據展示
- 網路錯誤處理機制

---

## 10. 系統架構特點

### 10.1 模組化設計
- **獨立模組**: 各功能模組相對獨立
- **組件重用**: 共享UI組件庫
- **狀態隔離**: 各模組狀態管理隔離
- **路由分離**: 清晰的路由結構

### 10.2 用戶體驗優化
- **響應式設計**: 支持多設備訪問
- **平滑過渡**: 頁面切換動畫效果
- **載入狀態**: 數據載入進度指示
- **錯誤處理**: 用戶友好的錯誤提示
- **即時反饋**: 操作結果即時反饋

### 10.3 數據管理
- **模擬數據**: 當前使用模擬數據
- **API整合**: 支持真實API數據源
- **數據驗證**: 前端數據驗證機制
- **錯誤恢復**: 數據載入失敗處理

### 10.4 安全性考慮
- **認證保護**: 路由級別訪問控制
- **數據驗證**: 輸入數據驗證
- **錯誤隔離**: 組件級別錯誤邊界
- **用戶會話**: 安全的會話管理

---

## 11. 開發與部署特點

### 技術創新
- **現代化架構**: 使用最新的React和Next.js特性
- **類型安全**: 完整的TypeScript類型定義
- **組件驅動**: 基於組件的開發模式
- **性能優化**: 懶加載和代碼分割

### 擴展性設計
- **模組化架構**: 易於添加新功能模組
- **API抽象層**: 清晰的數據訪問層
- **組件庫**: 可重用的UI組件系統
- **配置管理**: 靈活的配置管理系統

### 維護性考慮
- **代碼規範**: 統一的代碼風格和結構
- **文檔完善**: 詳細的功能和API文檔
- **測試友好**: 支持單元測試和集成測試
- **錯誤追蹤**: 完整的錯誤追蹤機制

---

## 12. 未來發展規劃

### 短期目標 (3-6個月)
- [ ] 完成所有生產部門模組開發
- [ ] 實現真實數據庫整合
- [ ] 添加用戶權限管理系統
- [ ] 優化移動端用戶體驗

### 中期目標 (6-12個月)
- [ ] 實現生產數據實時監控
- [ ] 添加報表和統計功能
- [ ] 實現供應鏈管理整合
- [ ] 添加多語言支持

### 長期目標 (1-2年)
- [ ] 實現AI輔助生產排程
- [ ] 添加物聯網設備整合
- [ ] 實現大數據分析功能
- [ ] 支持多工廠管理

---

*本文檔記錄了工廠ERP系統原型專案近半年的開發成果，系統以設計圖為基礎，實現了完整的生產管理功能架構。*
