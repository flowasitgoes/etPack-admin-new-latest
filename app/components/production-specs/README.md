# 生产规格组件重构说明

## 📁 文件结构

```
app/components/
├── production-specs.tsx          # 主组件 - 生产规格容器
├── production-spec-item.tsx      # 通用项目组件 - 抽象化重复结构
├── production-specs/             # 各课别具体内容组件
│   ├── bag-specs.tsx            # 抽袋课别表单
│   ├── printing-specs.tsx       # 印刷课别表单
│   ├── lamination-specs.tsx     # 贴合课别表单
│   ├── slitting-specs.tsx       # 分条课别表单
│   └── cutting-specs.tsx        # 裁袋课别表单
└── lib/
    └── production-spec-config.ts # 配置文件 - 定义各课别样式配置
```

## 🔧 重构优势

### 1. **代码复用性**
- 将重复的结构抽象为 `ProductionSpecItem` 组件
- 每个课别只需关注自己的表单内容
- 统一的折叠、编辑、删除功能

### 2. **可维护性**
- 配置驱动的设计，新增课别只需修改配置文件
- 各课别组件独立，修改不影响其他课别
- 清晰的职责分离

### 3. **可扩展性**
- 新增课别：添加配置文件 + 创建内容组件
- 修改样式：统一在配置文件中管理
- 功能增强：在通用组件中添加，所有课别自动受益

## 🎯 组件职责

### `ProductionSpecItem` (通用项目组件)
- ✅ 左侧标签栏（课别名称）
- ✅ 顶部时间栏和菜单按钮
- ✅ 折叠/展开功能
- ✅ 编辑/删除功能
- ✅ 动态样式控制

### 各课别组件 (如 `BagSpecs`)
- ✅ 专注于表单内容
- ✅ 课别特定的字段和逻辑
- ✅ 不关心外层结构

### `production-spec-config.ts` (配置文件)
- ✅ 定义各课别的样式配置
- ✅ 颜色、边框、图标等统一管理
- ✅ 便于主题定制

## 📊 代码减少统计

### 重构前
- 主组件：~1100 行代码
- 大量重复的 JSX 结构
- 难以维护和扩展

### 重构后
- 主组件：~40 行代码
- 通用组件：~100 行代码
- 各课别组件：~100-200 行代码
- 配置文件：~50 行代码
- **总计减少约 60% 的重复代码**

## 🚀 使用示例

```tsx
// 新增课别只需：
// 1. 在配置文件中添加配置
// 2. 创建对应的内容组件
// 3. 在主组件中导入并添加到渲染逻辑

// 修改样式只需：
// 1. 在配置文件中修改对应课别的样式
// 2. 所有相关组件自动更新
```

## 🔄 迁移说明

重构后的组件完全兼容原有功能：
- ✅ 折叠/展开功能保持不变
- ✅ 编辑/删除功能保持不变
- ✅ 样式和交互保持一致
- ✅ 所有表单字段和验证逻辑保持不变
